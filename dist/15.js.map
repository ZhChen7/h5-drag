{"version":3,"sources":["webpack:///./src/components/BasicShop/BasicComponents/Form/baseForm.less","webpack:///./src/components/BasicShop/BasicComponents/Form/BaseForm.tsx","webpack:///./src/components/BasicShop/BasicComponents/Form/index.tsx","webpack:///./src/assets/form.png","webpack:///./src/components/BasicShop/BasicComponents/Form/index.less"],"names":["BaseForm","Text","props","label","placeholder","onChange","Textarea","Number","MyRadio","options","styles","radioWrap","radioTitle","map","item","i","value","radioItem","MyCheckbox","Date","useState","setValue","handleChange","v","formatTime","MySelect","MyTextTip","color","fontSize","FormComponent","title","bgColor","titColor","btnColor","titWeight","btnTextColor","api","formControls","formData","useCallback","handleSubmit","fetch","body","JSON","stringify","cache","headers","method","mode","isEditorPage","window","location","pathname","indexOf","isTpl","logo","formWrap","backgroundColor","overflow","position","pointerEvents","fontWeight","formContent","FormItem","type","id","textAlign","padding","borderColor","memo"],"mappings":"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","file":"15.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"radioWrap\":\"radioWrap___V9Ujm\",\"radioTitle\":\"radioTitle___2yRMA\",\"radioItem\":\"radioItem___QPf2q\"};","import { Input, Cell, DateSelect, Radio, Select, Checkbox } from 'zarm';\nimport styles from './baseForm.less';\nimport React, { ReactText, useState } from 'react';\nimport {\n  baseFormDateTpl,\n  baseFormMyRadioTpl,\n  baseFormMyCheckboxTpl,\n  baseFormMySelectTpl,\n  baseFormNumberTpl,\n  baseFormTextAreaTpl,\n  baseFormTextTpl,\n  baseFormTextTipTpl,\n  baseFormUnionType,\n} from '@/components/PanelComponents/FormEditor/types';\nimport { formatTime } from '@/utils/tool';\n// 维护表单控件， 提高form渲染性能\n\ntype TBaseForm = {\n  [key in baseFormUnionType]: any;\n};\n\nconst BaseForm: TBaseForm = {\n  Text: (props: baseFormTextTpl & { onChange: (v: string | undefined) => void }) => {\n    const { label, placeholder, onChange } = props;\n    return (\n      <Cell title={label}>\n        <Input clearable type=\"text\" placeholder={placeholder} onChange={onChange} />\n      </Cell>\n    );\n  },\n  Textarea: (props: baseFormTextAreaTpl & { onChange: (v: string | undefined) => void }) => {\n    const { label, placeholder, onChange } = props;\n    return (\n      <Cell title={label}>\n        <Input\n          type=\"text\"\n          rows={3}\n          autoHeight\n          showLength\n          placeholder={placeholder}\n          onChange={onChange}\n        />\n      </Cell>\n    );\n  },\n  Number: (props: baseFormNumberTpl & { onChange: (v: string | undefined | number) => void }) => {\n    const { label, placeholder, onChange } = props;\n    return (\n      <Cell title={label}>\n        <Input type=\"number\" placeholder={placeholder} onChange={onChange} />\n      </Cell>\n    );\n  },\n  MyRadio: (props: baseFormMyRadioTpl & { onChange: (v: string | undefined | number) => void }) => {\n    const { label, options, onChange } = props;\n    return (\n      <div className={styles.radioWrap}>\n        <div className={styles.radioTitle}>{label}</div>\n        <Cell>\n          <Radio.Group onChange={onChange}>\n            {options.map((item, i) => {\n              return (\n                <Radio value={item.value} key={i} className={styles.radioItem}>\n                  {item.label}\n                </Radio>\n              );\n            })}\n          </Radio.Group>\n        </Cell>\n      </div>\n    );\n  },\n  MyCheckbox: (\n    props: baseFormMyCheckboxTpl & { onChange: (v: Array<ReactText> | undefined) => void },\n  ) => {\n    const { label, options, onChange } = props;\n    return (\n      <div className={styles.radioWrap}>\n        <div className={styles.radioTitle}>{label}</div>\n        <Cell>\n          <Checkbox.Group onChange={onChange}>\n            {options.map((item, i) => {\n              return (\n                <Checkbox value={item.value} key={i} className={styles.radioItem}>\n                  {item.label}\n                </Checkbox>\n              );\n            })}\n          </Checkbox.Group>\n        </Cell>\n      </div>\n    );\n  },\n  Date: (props: baseFormDateTpl & { onChange: (v: Date) => void }) => {\n    const { label, placeholder, onChange } = props;\n    const [value, setValue] = useState<any>('');\n    const handleChange = (v: any) => {\n      setValue(v);\n      onChange && onChange(formatTime('yyyy-MM-dd', v));\n    };\n    return (\n      <Cell title={label}>\n        <DateSelect\n          placeholder={placeholder}\n          mode=\"date\"\n          min=\"1949-05-15\"\n          max=\"2100-05-15\"\n          value={value}\n          onOk={handleChange}\n        />\n      </Cell>\n    );\n  },\n  MySelect: (\n    props: baseFormMySelectTpl & { onChange: ((v: Record<string, any>) => void) | undefined },\n  ) => {\n    const { label, options, onChange } = props;\n    return (\n      <Cell title={label}>\n        <Select dataSource={options} onOk={onChange} />\n      </Cell>\n    );\n  },\n  MyTextTip: (props: baseFormTextTipTpl) => {\n    const { label, color, fontSize } = props;\n    return <Cell title={<div style={{ color, fontSize }}>{label}</div>}></Cell>;\n  },\n};\n\nexport default BaseForm;\n","import React, { memo, useCallback } from 'react';\nimport { Button } from 'zarm';\nimport BaseForm from './BaseForm';\nimport styles from './index.less';\nimport { IFormConfig } from './schema';\nimport logo from '@/assets/form.png';\nconst FormComponent = (props: IFormConfig & { isTpl: boolean }) => {\n  const {\n    title,\n    bgColor,\n    fontSize,\n    titColor,\n    btnColor,\n    titWeight,\n    btnTextColor,\n    api,\n    formControls,\n  } = props;\n  const formData: Record<string, any> = {};\n  const handleChange = useCallback(\n    (item, v) => {\n      formData[item.label] = v;\n    },\n    [formData],\n  );\n  const handleSubmit = () => {\n    if (api) {\n      fetch(api, {\n        body: JSON.stringify(formData),\n        cache: 'no-cache',\n        headers: {\n          'content-type': 'application/json',\n        },\n        method: 'POST',\n        mode: 'cors',\n      });\n    }\n  };\n\n  const isEditorPage = window.location.pathname.indexOf('editor') > -1;\n  return (\n    <>\n      {props.isTpl && (\n        <div>\n          <img src={logo} alt=\"\" />\n        </div>\n      )}\n      {!props.isTpl && (\n        <div\n          className={styles.formWrap}\n          style={{\n            backgroundColor: bgColor,\n            overflow: 'hidden',\n            position: 'absolute',\n            pointerEvents: isEditorPage ? 'none' : 'initial',\n          }}\n        >\n          {title && (\n            <div\n              className={styles.title}\n              style={{ fontSize, fontWeight: +titWeight, color: titColor }}\n            >\n              {title}\n            </div>\n          )}\n          <div className={styles.formContent}>\n            {formControls.map(item => {\n              const FormItem = BaseForm[item.type];\n              return (\n                <FormItem onChange={(v: string) => handleChange(item, v)} {...item} key={item.id} />\n              );\n            })}\n            <div style={{ textAlign: 'center', padding: '16px 0' }}>\n              <Button\n                theme=\"primary\"\n                size=\"sm\"\n                block\n                onClick={handleSubmit}\n                style={{ backgroundColor: btnColor, borderColor: btnColor, color: btnTextColor }}\n              >\n                提交\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default memo(FormComponent);\n","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formWrap\":\"formWrap___2DYLH\",\"title\":\"title___3ihe8\"};"],"sourceRoot":""}